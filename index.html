<!DOCTYPE html>
<html>

<head>
    <title>23 Final project</title>
    <link rel="icon" type="image/x-icon" href="/src/icons/favicon.png">
    <link rel="stylesheet" href="src/application.css">
    <script src="src/pdf_validation.js"></script>
    <script src="src/upload_file.js"></script>
    <script src="src/draw_chart.js" defer></script>
    <script src="src/API.js" defer></script>
    <script src="tools/pdfjs-5.3.93-dist/build/pdf.mjs" type="module" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body style="background-color: rgb(163, 203, 248);">
    <p style="font-size: 36px; font-family: Arial; font-weight: 700; margin: 20px; margin-left: 100px; margin-bottom: 0px;">Welcome</p>

    <div class="home_box">

        <div class="box_title">
            <div>
                <img src="src/icons/home.png" style="height: 30px; width: 30px; object-fit: scale-down;">
            </div>
            <p class="title_text">Bank Transaction Summarizer</p>
        </div>

        <div>
            <p style="font-size: 24px; font-family: Arial; font-weight: 600; padding-bottom: 10px;">Welcome to the "Upload your bank statement and we will summarize it for you" application</p>
            <p style="font-size: 24px; font-family: Arial; font-weight: 600; padding-bottom: 10px;"> Please upload your file in the section below, wait for 10 seconds until the pdf icon shows up, and click "Extract Transaction", we will manage the rest.</p>
            <p style="font-size: 24px; font-family: Arial; font-weight: 600; padding-bottom: 10px;">--By Fields(Group 23)</p>
        </div>
    </div>


    <div class="upload_statement_box" id="upload">

        <div class="box_title">
            <div>
                <img src="src/icons/upload.png" style="height: 30px; width: 30px; object-fit: scale-down;">
            </div>
            <p class="title_text">Upload Statement</p>
        </div>

        <div class="upload_document">


            <button style="height: fit-content; width: fit-content;"
                onclick="document.querySelector('.uploaded_pdf').click();">Upload file</button>
            <input type="file" class="uploaded_pdf" accept=".pdf" style="display: none;"
                onchange="show_uploaded_file();">
        </div>

        <button class="div_button" onclick="console.log(transaction_json);processPDF();const data_string = JSON.stringify(data); console.log(data_string,JSON.parse(data_string).length);
        localStorage.setItem('chart_data', data_string);
        window.location.href = 'src/result_page.html';">Extract Transactions</button>
        <p id="loading-txt" style="display: none">Your document is being uploaded. Please wait a few moments...</p>
        <p id="error-message" style="display: none;"></p>
    </div>

    


    <!--These are for the pdf upload functions-->
    <script>
        let uploaded_file = "";
        let have_file = false;
        let file_name = "";
        let is_pdf = false;
        let pdf_too_large = true;
        let invalid_file = false;
        let pdf_json_input = {
            name: "input",
            content: "",
        };
        let transaction_json = "";
        let data = [200, 60, 15, 75, 30]; // If you add more data values make sure you add more colors
    </script>

    <!--pdf.js configurations-->
    <script id="script" type="module">
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'tools/pdfjs-5.3.93-dist/build/pdf.worker.mjs';
    </script>

</body>


</html>